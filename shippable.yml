# Painless deployment with Shippable.
# Visit the docs at http://docs.shippable.com/ci/shippableyml/

language: python
python:
- 3.7

env:
  matrix:  # tox -l | xargs -I ARG echo '    - TOXENV=ARG'
  - TOXENV=flake8
  - TOXENV=pylint
  - TOXENV=bandit
  - TOXENV=py38
  - TOXENV=pypy3
  - TOXENV=behave

matrix:
  allow_failures:
  - TOXENV=bandit

build:
  ci:
  - pip install tox
  - tox
  - mv -v tests/*-report.* tests/TESTS-*.xml shippable/testresults/ || true
